# 🕑자바 기본

<details>
    <summary><h3>자바 메모리 구조와 static</h3></summary>

* 메서드 영역(Method Area) : 메서드 영역은 프로그램을 실행하는데 필요한 공통 데이터를 관리한다. 이 영역은 프로그램의 모든 영역에서 공유한다.
  * 클래스 정보 : 클래스의 실행 코드(바이트 코드), 필드, 메서드와 생성자 코드 등 모든 실행 코드가 존재한다.
    * static 영역 : static 변수들을 보관한다.
    * 멤버 변수(필드)의 종류
      * 인스턴스 변수 : static이 붙지 않은 멤버 변수
      * 클래스 변수 : static이 붙은 멤버 변수, 정적 변수, static 변수 등으로 부르기도 한다.
  * 런타임 상수 풀 : 프로그램을 실행하는데 필요한 공통 리터럴 상수를 보관한다.
  <br></br>

* 스택 영역(Stack Area) : 자바 실행 시, 각 쓰레드별로 하나의 실행 스택이 생성된다. 따라서 쓰레드 수 만큼 스택 영역이 생성된다. 각 스택 프레임은 지역 변수, 중간 연산 결과, 메서드 호출 정보 등을 포함한다.
  * 스택 프레임 : 메서드를 호출할 때마다 하나의 스택 프레임이 쌓이고, 메서드가 종료되면 해당 스택 프레임이 제거된다.
  <br></br>

* 힙 영역(Heap Area) : 객체(인스턴스)와 배열이 생성되는 영역이다. 가비지 컬렉션(GC)이 이루어지는 주요 영역이며, 더 이상 참조되지 않는 객체는 GC에 의해 제거된다.
<br></br>

* **정적 변수 접근 법**
  * 정적 변수의 경우 인스턴스를 통한 접근은 추천하지 않는다. 코드를 읽을 때 마치 인스턴스 변수에 접근하는것 처럼 오해할 수 있기 때문이다.
    정적 변수는 클래스에서 공용으로 관리하기 때문에 클래스를 통해서 접근하는 것이 더 명확하다. 따라서 정적 변수에 접근할 때는 클래스를 통해서 접근하자.
  <br></br>
* **정적 메서드 사용법**
  * static 메서드는 static 만 사용할 수 있다.
    * 클래스 내부의 기능을 사용할 때, 정적 메서드는 인스턴스 변수나 인스턴스 메서드를 사용할 수 없다.
  * 반대로 모든 곳에서 static을 호출할 수 있다.
    * 정적 메서드는 공용 기능이다. 따라서 접근 제어자만 허락한다면 클래스를 통해 모든 곳에서 static을 호출할 수 있다.
</details>

<details>
    <summary><h3>final</h3></summary>

* 생성자를 사용해서 final 필드를 초기화 하는 경우, 각 인스턴스마다 final 필드에 다른 값을 할당할 수 있다. 물론 final을 사용했기 때문에 생성 이후에 이 값을 변경하는것은 불가능하다.

```java
//Field 클래스는 선언 되어있다고 가정
Field field1 = new Field();
Field field2 = new Field();
Field field3 = new Field();
```

* final 필드를 필드에서 초기화 하는 경우, 모든 인스턴스가 같은 값을 사용하기 때문에 결과적으로 메모리를 낭비하게 된다.(물론 JVM에 따라서 내부 최적화를 시도할 수 있다.)
또 메모리 낭비를 떠나서 같은 값이 계속 생성되는 것은 개발자가 보기에 명확한 중복이다. 이럴 때 사용하면 좋은것이 바로 static 영역이다.
  * static final
    * static 영역은 단 하나만 존재하는 영역이다. 필드에 final + 필드 초기화를 사용하는 경우 static을 붙여서 사용하면 중복과 메모리 비효율 문제를 모두 해결할 수 있어서 효과적이다.

* final은 정말 유용한 제약이다. 만약 특정 변수의 값을 할당한 이후 변경하지 않아야 한다면 final을 사용하자. 만약 어디선가 실수로 값을 변경한다면 컴파일러가 문제를 찾아줄 것이다.


</details>